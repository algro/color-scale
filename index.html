<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="theme-variables.css" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Dark mode toggle button -->
  <button id="dark-mode-toggle" class="dark-mode-toggle" aria-label="Toggle dark mode">
    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"/>
      <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42m12.72-12.72l1.42-1.42"/>
    </svg>
    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
    </svg>
  </button>
  
  <!-- Main content -->
  <div class="container">
    <!-- Top row: blank placeholder + scale labels -->
    <div class="row labels-row">
      <div class="color-label-placeholder"></div>
      <div id="scale-labels"></div>
    </div>
    <!-- All color rows go here -->
    <div id="scales"></div>
    
    <!-- Controls row with copy button and tab switcher -->
    <div class="controls-row">
      <button id="copy-scale-button" class="copy-scale-button">Copy scale</button>
      <div class="tab-switcher">
        <button class="tab-button" data-steps="11">11</button>
        <button class="tab-button active" data-steps="13">13</button>
      </div>
    </div>
    
    <!-- Easing curve visualizations -->
    <div id="curve-container">
      <div class="curve-header">
        <h3>Easing Curves</h3>
        
      </div>
      <div class="curves-row">
        <div class="curve-section">
          <h4>Tints (50 → 500)</h4>
          <svg id="tint-curve" width="300" height="200" viewBox="0 0 300 200"></svg>
        </div>
        <div class="curve-section">
          <h4>Shades (500 → 950)</h4>
          <svg id="shade-curve" width="300" height="200" viewBox="0 0 300 200"></svg>
        </div>
      </div>
      <div class="curve-legend">
        <div class="legend-item">
          <div class="legend-dot" style="background-color: #EE3A59;"></div>
          <span class="legend-label">Lightness</span>
        </div>
        <div class="legend-item">
          <div class="legend-dot" style="background-color: #3d88fd;"></div>
          <span class="legend-label">Saturation</span>
        </div>
        <div class="legend-item">
          <div class="legend-dot" style="background-color: #14b8a6;"></div>
          <span class="legend-label">Hue shift</span>
        </div>
      </div>
    </div>

    <div id="documentation">
      
      <h2>Perceptual Uniformity</h2>
      <p>Displaying color scales with perceptually uniform saturation across all hues. Unlike traditional color scales, our scales ensure that colors appear equally vibrant to the human eye, regardless of whether they're red, blue, green, or any other hue. Colors with the same saturation value look equally vibrant across all hues.</p>
      <h2>Hue shifts</h2>
      <p>Custom defined hue shifts towards lighter tints and darker shades allows to get more balanced color palette. E.g. Orange adds more red for shades (less "dirty" swatches), or more blue in iris towards lighter tints.</p>
      <h2>Granular Control</h2>
      <p>Bezier curves control lightness, saturation, and hue progression. This allows smooth and slower transitions in lightest colors and towards darkest colors.</p>
      <h2>Hybrid approach combining the best of OKLCH and OKHSL color spaces</h2>
       <ul>
         <li><strong>OKLCH for precision:</strong> Calculate lightness and hue using bezier curves in OKLCH space for exact control.</li>
         <li><strong>OKHSL for saturation:</strong> Convert saturation values through OKHSL to automatically compensate for hue-dependent chroma variations.</li>
         <li><strong>Smart mapping:</strong> OKHSL maps saturation values to appropriate chroma levels, ensuring equal perceived saturation across all hues.</li>
         <li><strong>Gamut safety:</strong> The OKHSL conversion inherently keeps all colors within valid sRGB bounds.</li>
       </ul>
      
       <p class="reference">The OKHSL color space implementation is based on <a href="https://bottosson.github.io/posts/colorpicker/#okhsl" target="_blank" rel="noopener noreferrer">Björn Ottosson's research on perceptual color spaces</a>, which provides the mathematical foundation for achieving perceptually uniform saturation across different hues.
        Color space conversions and utilities powered by <a href="https://colorjs.io/" target="_blank" rel="noopener noreferrer">Color.js</a>
        OKLCH color space insights and visualization inspired by <a href="https://oklch.com/" target="_blank" rel="noopener noreferrer">OKLCH Color Picker & Converter</a> by Evil Martians.
        Inspired by <a href="https://tailwindcss.com/docs/customizing-colors" target="_blank" rel="noopener noreferrer">Tailwind CSS's color system</a></p>
       
    </div>
  </div>
  

  <!-- Scripts -->
  <script type="module" src="app.js"></script>
</body>
</html>
